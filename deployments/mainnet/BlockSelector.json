{
  "address": "0x98d951e9b0c0bb180f1b3ed40dde6e1b1b521cc1",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "producer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "blockNumber",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "roundDuration",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "difficulty",
          "type": "uint256"
        }
      ],
      "name": "BlockProduced",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_weight",
          "type": "uint256"
        }
      ],
      "name": "canProduceBlock",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getBlockCount",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getDifficulty",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getDifficultyAdjustmentParameter",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getMinDifficulty",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getNonce",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "currentNonce",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getSelectionBlockDuration",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getState",
      "outputs": [
        {
          "internalType": "uint256[5]",
          "name": "_uintValues",
          "type": "uint256[5]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "getSubInstances",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "_addresses",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_indices",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getTargetInterval",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_minDifficulty",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialDifficulty",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_difficultyAdjustmentParameter",
          "type": "uint32"
        },
        {
          "internalType": "uint32",
          "name": "_targetInterval",
          "type": "uint32"
        },
        {
          "internalType": "address",
          "name": "_posManagerAddress",
          "type": "address"
        }
      ],
      "name": "instantiate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "isActive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "isConcerned",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_num",
          "type": "uint256"
        }
      ],
      "name": "log2ApproxTimes1M",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_weight",
          "type": "uint256"
        }
      ],
      "name": "produceBlock",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x843b5ea620afd96d73327ba0bf3e77b48cbebabdda3c4db4ae4d4d07c7aec289",
  "receipt": {
    "to": null,
    "from": "0x0e28a8f88c6266df0fe274c15c1d4b27f8b373c0",
    "contractAddress": "0x98d951e9b0c0bb180f1b3ed40dde6e1b1b521cc1",
    "transactionIndex": "0xb",
    "gasUsed": "0x361a8e",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x77f29cb55410257466aebe5b6bab0852c2b745c1d3dc5faf77b938c9c891d130",
    "transactionHash": "0x843b5ea620afd96d73327ba0bf3e77b48cbebabdda3c4db4ae4d4d07c7aec289",
    "logs": [],
    "blockNumber": "0xb60b5b",
    "cumulativeGasUsed": "0x416e74",
    "status": "0x1"
  },
  "args": [],
  "solcInputHash": "f5e6526d3c08f77b280dc4ca149f7d46",
  "metadata": "{\"compiler\":{\"version\":\"0.7.4+commit.3f05b770\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"producer\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"blockNumber\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"roundDuration\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"difficulty\",\"type\":\"uint256\"}],\"name\":\"BlockProduced\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_weight\",\"type\":\"uint256\"}],\"name\":\"canProduceBlock\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getBlockCount\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getDifficultyAdjustmentParameter\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getMinDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getNonce\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"currentNonce\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getSelectionBlockDuration\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getState\",\"outputs\":[{\"internalType\":\"uint256[5]\",\"name\":\"_uintValues\",\"type\":\"uint256[5]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"getSubInstances\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"_addresses\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_indices\",\"type\":\"uint256[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getTargetInterval\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_minDifficulty\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialDifficulty\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_difficultyAdjustmentParameter\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"_targetInterval\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"_posManagerAddress\",\"type\":\"address\"}],\"name\":\"instantiate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"isActive\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isConcerned\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_num\",\"type\":\"uint256\"}],\"name\":\"log2ApproxTimes1M\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_weight\",\"type\":\"uint256\"}],\"name\":\"produceBlock\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"canProduceBlock(uint256,address,uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector you want to interact with\",\"_user\":\"the address that is gonna get checked\",\"_weight\":\"number that will weight the random number, most likely will be the number of staked tokens\"}},\"getBlockCount(uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector to be interact with\"},\"returns\":{\"_0\":\"number of blocks\"}},\"getDifficulty(uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector to be interact with\"},\"returns\":{\"_0\":\"difficulty of current selection\"}},\"getDifficultyAdjustmentParameter(uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector to be interact with\"},\"returns\":{\"_0\":\"difficulty adjustment parameter\"}},\"getMinDifficulty(uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector to be interact with\"},\"returns\":{\"_0\":\"min difficulty of instance\"}},\"getSelectionBlockDuration(uint256)\":{\"details\":\"block duration resets every 256 blocks\",\"params\":{\"_index\":\"the index of the instance of block selector to be interact with\"},\"returns\":{\"_0\":\"number of etheereum blocks passed since last selection started\"}},\"getTargetInterval(uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector to be interact with\"},\"returns\":{\"_0\":\"target interval\"}},\"instantiate(uint256,uint256,uint32,uint32,address)\":{\"params\":{\"_difficultyAdjustmentParameter\":\"how quickly the difficulty gets updated according to the difference between time passed and target interval.\",\"_initialDifficulty\":\"starting difficulty\",\"_minDifficulty\":\"lower bound for difficulty parameter\",\"_posManagerAddress\":\"address of ProofOfStake that will use this instance\",\"_targetInterval\":\"how often we want produce noether blocks, in ethereum blocks\"}},\"log2ApproxTimes1M(uint256)\":{\"params\":{\"_num\":\"number to take log2 * 1M of\"}},\"produceBlock(uint256,address,uint256)\":{\"params\":{\"_index\":\"the index of the instance of block selector you want to interact with\",\"_user\":\"address that has the right to produce block\",\"_weight\":\"number that will weight the random number, will be the number of staked tokens\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"canProduceBlock(uint256,address,uint256)\":{\"notice\":\"Check if address is allowed to produce block\"},\"getBlockCount(uint256)\":{\"notice\":\"Returns the number of blocks\"},\"getDifficulty(uint256)\":{\"notice\":\"Returns current difficulty\"},\"getDifficultyAdjustmentParameter(uint256)\":{\"notice\":\"Returns difficulty adjustment parameter\"},\"getMinDifficulty(uint256)\":{\"notice\":\"Returns min difficulty\"},\"getSelectionBlockDuration(uint256)\":{\"notice\":\"Returns time since last selection started, in ethereum blocks\"},\"getTargetInterval(uint256)\":{\"notice\":\"Returns target interval\"},\"instantiate(uint256,uint256,uint32,uint32,address)\":{\"notice\":\"Instantiates a BlockSelector structure\"},\"log2ApproxTimes1M(uint256)\":{\"notice\":\"Approximates log2 * 1M\"},\"produceBlock(uint256,address,uint256)\":{\"notice\":\"Produces a block\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/BlockSelector.sol\":\"BlockSelector\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@cartesi/util/contracts/CartesiMath.sol\":{\"content\":\"// Copyright 2020 Cartesi Pte. Ltd.\\n\\n// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\n/// @title CartesiMath\\n/// @author Felipe Argento\\npragma solidity ^0.7.0;\\n\\nimport \\\"@openzeppelin/contracts/math/SafeMath.sol\\\";\\n\\nabstract contract CartesiMath {\\n    using SafeMath for uint256;\\n    mapping(uint256 => uint256) log2tableTimes1M;\\n\\n    constructor() {\\n        log2tableTimes1M[1] = 0;\\n        log2tableTimes1M[2] = 1000000;\\n        log2tableTimes1M[3] = 1584962;\\n        log2tableTimes1M[4] = 2000000;\\n        log2tableTimes1M[5] = 2321928;\\n        log2tableTimes1M[6] = 2584962;\\n        log2tableTimes1M[7] = 2807354;\\n        log2tableTimes1M[8] = 3000000;\\n        log2tableTimes1M[9] = 3169925;\\n        log2tableTimes1M[10] = 3321928;\\n        log2tableTimes1M[11] = 3459431;\\n        log2tableTimes1M[12] = 3584962;\\n        log2tableTimes1M[13] = 3700439;\\n        log2tableTimes1M[14] = 3807354;\\n        log2tableTimes1M[15] = 3906890;\\n        log2tableTimes1M[16] = 4000000;\\n        log2tableTimes1M[17] = 4087462;\\n        log2tableTimes1M[18] = 4169925;\\n        log2tableTimes1M[19] = 4247927;\\n        log2tableTimes1M[20] = 4321928;\\n        log2tableTimes1M[21] = 4392317;\\n        log2tableTimes1M[22] = 4459431;\\n        log2tableTimes1M[23] = 4523561;\\n        log2tableTimes1M[24] = 4584962;\\n        log2tableTimes1M[25] = 4643856;\\n        log2tableTimes1M[26] = 4700439;\\n        log2tableTimes1M[27] = 4754887;\\n        log2tableTimes1M[28] = 4807354;\\n        log2tableTimes1M[29] = 4857980;\\n        log2tableTimes1M[30] = 4906890;\\n        log2tableTimes1M[31] = 4954196;\\n        log2tableTimes1M[32] = 5000000;\\n        log2tableTimes1M[33] = 5044394;\\n        log2tableTimes1M[34] = 5087462;\\n        log2tableTimes1M[35] = 5129283;\\n        log2tableTimes1M[36] = 5169925;\\n        log2tableTimes1M[37] = 5209453;\\n        log2tableTimes1M[38] = 5247927;\\n        log2tableTimes1M[39] = 5285402;\\n        log2tableTimes1M[40] = 5321928;\\n        log2tableTimes1M[41] = 5357552;\\n        log2tableTimes1M[42] = 5392317;\\n        log2tableTimes1M[43] = 5426264;\\n        log2tableTimes1M[44] = 5459431;\\n        log2tableTimes1M[45] = 5491853;\\n        log2tableTimes1M[46] = 5523561;\\n        log2tableTimes1M[47] = 5554588;\\n        log2tableTimes1M[48] = 5584962;\\n        log2tableTimes1M[49] = 5614709;\\n        log2tableTimes1M[50] = 5643856;\\n        log2tableTimes1M[51] = 5672425;\\n        log2tableTimes1M[52] = 5700439;\\n        log2tableTimes1M[53] = 5727920;\\n        log2tableTimes1M[54] = 5754887;\\n        log2tableTimes1M[55] = 5781359;\\n        log2tableTimes1M[56] = 5807354;\\n        log2tableTimes1M[57] = 5832890;\\n        log2tableTimes1M[58] = 5857980;\\n        log2tableTimes1M[59] = 5882643;\\n        log2tableTimes1M[60] = 5906890;\\n        log2tableTimes1M[61] = 5930737;\\n        log2tableTimes1M[62] = 5954196;\\n        log2tableTimes1M[63] = 5977279;\\n        log2tableTimes1M[64] = 6000000;\\n        log2tableTimes1M[65] = 6022367;\\n        log2tableTimes1M[66] = 6044394;\\n        log2tableTimes1M[67] = 6066089;\\n        log2tableTimes1M[68] = 6087462;\\n        log2tableTimes1M[69] = 6108524;\\n        log2tableTimes1M[70] = 6129283;\\n        log2tableTimes1M[71] = 6149747;\\n        log2tableTimes1M[72] = 6169925;\\n        log2tableTimes1M[73] = 6189824;\\n        log2tableTimes1M[74] = 6209453;\\n        log2tableTimes1M[75] = 6228818;\\n        log2tableTimes1M[76] = 6247927;\\n        log2tableTimes1M[77] = 6266786;\\n        log2tableTimes1M[78] = 6285402;\\n        log2tableTimes1M[79] = 6303780;\\n        log2tableTimes1M[80] = 6321928;\\n        log2tableTimes1M[81] = 6339850;\\n        log2tableTimes1M[82] = 6357552;\\n        log2tableTimes1M[83] = 6375039;\\n        log2tableTimes1M[84] = 6392317;\\n        log2tableTimes1M[85] = 6409390;\\n        log2tableTimes1M[86] = 6426264;\\n        log2tableTimes1M[87] = 6442943;\\n        log2tableTimes1M[88] = 6459431;\\n        log2tableTimes1M[89] = 6475733;\\n        log2tableTimes1M[90] = 6491853;\\n        log2tableTimes1M[91] = 6507794;\\n        log2tableTimes1M[92] = 6523561;\\n        log2tableTimes1M[93] = 6539158;\\n        log2tableTimes1M[94] = 6554588;\\n        log2tableTimes1M[95] = 6569855;\\n        log2tableTimes1M[96] = 6584962;\\n        log2tableTimes1M[97] = 6599912;\\n        log2tableTimes1M[98] = 6614709;\\n        log2tableTimes1M[99] = 6629356;\\n        log2tableTimes1M[100] = 6643856;\\n        log2tableTimes1M[101] = 6658211;\\n        log2tableTimes1M[102] = 6672425;\\n        log2tableTimes1M[103] = 6686500;\\n        log2tableTimes1M[104] = 6700439;\\n        log2tableTimes1M[105] = 6714245;\\n        log2tableTimes1M[106] = 6727920;\\n        log2tableTimes1M[107] = 6741466;\\n        log2tableTimes1M[108] = 6754887;\\n        log2tableTimes1M[109] = 6768184;\\n        log2tableTimes1M[110] = 6781359;\\n        log2tableTimes1M[111] = 6794415;\\n        log2tableTimes1M[112] = 6807354;\\n        log2tableTimes1M[113] = 6820178;\\n        log2tableTimes1M[114] = 6832890;\\n        log2tableTimes1M[115] = 6845490;\\n        log2tableTimes1M[116] = 6857980;\\n        log2tableTimes1M[117] = 6870364;\\n        log2tableTimes1M[118] = 6882643;\\n        log2tableTimes1M[119] = 6894817;\\n        log2tableTimes1M[120] = 6906890;\\n        log2tableTimes1M[121] = 6918863;\\n        log2tableTimes1M[122] = 6930737;\\n        log2tableTimes1M[123] = 6942514;\\n        log2tableTimes1M[124] = 6954196;\\n        log2tableTimes1M[125] = 6965784;\\n        log2tableTimes1M[126] = 6977279;\\n        log2tableTimes1M[127] = 6988684;\\n        log2tableTimes1M[128] = 7000000;\\n    }\\n\\n    /// @notice Approximates log2 * 1M\\n    /// @param _num number to take log2 * 1M of\\n    function log2ApproxTimes1M(uint256 _num) public view returns (uint256) {\\n        require (_num > 0, \\\"Number cannot be zero\\\");\\n        uint256 leading = 0;\\n\\n        if (_num == 1) return 0;\\n\\n        while (_num > 128) {\\n           _num = _num >> 1;\\n           leading += 1;\\n       }\\n       return (leading.mul(uint256(1000000))).add(log2tableTimes1M[_num]);\\n    }\\n}\\n\",\"keccak256\":\"0x496a53dd1d169264fe58353fef5d283dfc8a78789757d32af69be41faaa97d6e\",\"license\":\"Apache-2.0\"},\"@cartesi/util/contracts/Decorated.sol\":{\"content\":\"// Copyright 2020 Cartesi Pte. Ltd.\\n\\n// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\npragma solidity ^0.7.0;\\n\\n\\ncontract Decorated {\\n    // This contract defines several modifiers but does not use\\n    // them - they will be used in derived contracts.\\n    modifier onlyBy(address user) {\\n        require(msg.sender == user, \\\"Cannot be called by user\\\");\\n        _;\\n    }\\n\\n    modifier onlyAfter(uint256 time) {\\n        require(block.timestamp > time, \\\"Cannot be called now\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0xdbba019b8f7f93b212a5bbae402ee988321c4fa82ed2b4c9e55b4d7ddf35dcc3\",\"license\":\"Apache-2.0\"},\"@cartesi/util/contracts/Instantiator.sol\":{\"content\":\"// Copyright 2020 Cartesi Pte. Ltd.\\n\\n// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\n\\npragma solidity ^0.7.0;\\n\\n\\ninterface Instantiator {\\n\\n    modifier onlyInstantiated(uint256 _index) virtual;\\n\\n    modifier onlyActive(uint256 _index) virtual;\\n\\n    modifier increasesNonce(uint256 _index) virtual;\\n\\n    function isActive(uint256 _index) external view returns (bool);\\n\\n    function getNonce(uint256 _index) external view returns (uint256);\\n\\n    function isConcerned(uint256 _index, address _user) external view returns (bool);\\n\\n    function getSubInstances(uint256 _index, address) external view returns (address[] memory _addresses, uint256[] memory _indices);\\n}\\n\",\"keccak256\":\"0x416e612dc09b10765de32ec06cf0a7ee4e050e16db8bf3b8ad832a6082b7dfd6\",\"license\":\"Apache-2.0\"},\"@cartesi/util/contracts/InstantiatorImpl.sol\":{\"content\":\"// Copyright 2020 Cartesi Pte. Ltd.\\n\\n// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\npragma solidity ^0.7.0;\\n\\nimport \\\"./Instantiator.sol\\\";\\n\\nabstract contract InstantiatorImpl is Instantiator {\\n    uint256 public currentIndex = 0;\\n\\n    mapping(uint256 => bool) internal active;\\n    mapping(uint256 => uint256) internal nonce;\\n\\n    modifier onlyInstantiated(uint256 _index) override {\\n        require(currentIndex > _index, \\\"Index not instantiated\\\");\\n        _;\\n    }\\n\\n    modifier onlyActive(uint256 _index) override {\\n        require(currentIndex > _index, \\\"Index not instantiated\\\");\\n        require(isActive(_index), \\\"Index inactive\\\");\\n        _;\\n    }\\n\\n    modifier increasesNonce(uint256 _index) override {\\n        nonce[_index]++;\\n        _;\\n    }\\n\\n    function isActive(uint256 _index) public override view returns (bool) {\\n        return (active[_index]);\\n    }\\n\\n    function getNonce(uint256 _index)\\n        public\\n        override\\n        view\\n        onlyActive(_index)\\n        returns (uint256 currentNonce)\\n    {\\n        return nonce[_index];\\n    }\\n\\n    function deactivate(uint256 _index) internal {\\n        active[_index] = false;\\n        nonce[_index] = 0;\\n    }\\n}\\n\",\"keccak256\":\"0x8f8e29b807e5c55198206a370b4d8751cbd98a663e3f89faff274e2f9d7cae75\",\"license\":\"Apache-2.0\"},\"@openzeppelin/contracts/math/SafeMath.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.7.0;\\n\\n/**\\n * @dev Wrappers over Solidity's arithmetic operations with added overflow\\n * checks.\\n *\\n * Arithmetic operations in Solidity wrap on overflow. This can easily result\\n * in bugs, because programmers usually assume that an overflow raises an\\n * error, which is the standard behavior in high level programming languages.\\n * `SafeMath` restores this intuition by reverting the transaction when an\\n * operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n */\\nlibrary SafeMath {\\n    /**\\n     * @dev Returns the addition of two unsigned integers, reverting on\\n     * overflow.\\n     *\\n     * Counterpart to Solidity's `+` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Addition cannot overflow.\\n     */\\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\\n        uint256 c = a + b;\\n        require(c >= a, \\\"SafeMath: addition overflow\\\");\\n\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the subtraction of two unsigned integers, reverting on\\n     * overflow (when the result is negative).\\n     *\\n     * Counterpart to Solidity's `-` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Subtraction cannot overflow.\\n     */\\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return sub(a, b, \\\"SafeMath: subtraction overflow\\\");\\n    }\\n\\n    /**\\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\\n     * overflow (when the result is negative).\\n     *\\n     * Counterpart to Solidity's `-` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Subtraction cannot overflow.\\n     */\\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b <= a, errorMessage);\\n        uint256 c = a - b;\\n\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the multiplication of two unsigned integers, reverting on\\n     * overflow.\\n     *\\n     * Counterpart to Solidity's `*` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Multiplication cannot overflow.\\n     */\\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\\n        // benefit is lost if 'b' is also tested.\\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\\n        if (a == 0) {\\n            return 0;\\n        }\\n\\n        uint256 c = a * b;\\n        require(c / a == b, \\\"SafeMath: multiplication overflow\\\");\\n\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the integer division of two unsigned integers. Reverts on\\n     * division by zero. The result is rounded towards zero.\\n     *\\n     * Counterpart to Solidity's `/` operator. Note: this function uses a\\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\\n     * uses an invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return div(a, b, \\\"SafeMath: division by zero\\\");\\n    }\\n\\n    /**\\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\\n     * division by zero. The result is rounded towards zero.\\n     *\\n     * Counterpart to Solidity's `/` operator. Note: this function uses a\\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\\n     * uses an invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b > 0, errorMessage);\\n        uint256 c = a / b;\\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\\n\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\\n     * Reverts when dividing by zero.\\n     *\\n     * Counterpart to Solidity's `%` operator. This function uses a `revert`\\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\\n     * invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return mod(a, b, \\\"SafeMath: modulo by zero\\\");\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\\n     * Reverts with custom message when dividing by zero.\\n     *\\n     * Counterpart to Solidity's `%` operator. This function uses a `revert`\\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\\n     * invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b != 0, errorMessage);\\n        return a % b;\\n    }\\n}\\n\",\"keccak256\":\"0xba96bc371ba999f452985a98717cca1e4c4abb598dc038a9a9c3db08129b1ba4\",\"license\":\"MIT\"},\"contracts/BlockSelector.sol\":{\"content\":\"// Copyright 2020 Cartesi Pte. Ltd.\\n\\n// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\n/// @title Block Selector\\n\\npragma solidity ^0.7.0;\\n\\nimport \\\"@openzeppelin/contracts/math/SafeMath.sol\\\";\\n\\nimport \\\"@cartesi/util/contracts/CartesiMath.sol\\\";\\nimport \\\"@cartesi/util/contracts/InstantiatorImpl.sol\\\";\\nimport \\\"@cartesi/util/contracts/Decorated.sol\\\";\\n\\ncontract BlockSelector is InstantiatorImpl, Decorated, CartesiMath {\\n    using SafeMath for uint256;\\n\\n    uint256 constant C_256 = 256; // 256 blocks\\n    uint256 constant DIFFICULTY_BASE_MULTIPLIER = 256000000; //256 M\\n    uint256 constant ADJUSTMENT_BASE = 1000000; // 1M\\n\\n    struct BlockSelectorCtx {\\n        // @dev the order of variables are important for storage packing\\n        // 32 bytes constants\\n        uint256 minDifficulty; // lower bound for difficulty\\n        // 32 bytes var\\n        uint256 difficulty; // difficulty parameter defines how big the interval will be\\n\\n        // 20 bytes constants\\n        address posManagerAddress;\\n\\n        // 4 bytes constants\\n        uint32 difficultyAdjustmentParameter; // how fast the difficulty gets adjusted to reach the desired interval, number * 1000000\\n        uint32 targetInterval; // desired block selection interval in ethereum blocks\\n\\n        // 4 bytes var\\n        uint32 blockCount; // how many blocks have been created\\n        uint32 ethBlockCheckpoint; // ethereum block number when current selection started\\n    }\\n\\n    mapping(uint256 => BlockSelectorCtx) internal instance;\\n\\n    event BlockProduced(\\n        uint256 indexed index,\\n        address indexed producer,\\n        uint32 blockNumber,\\n        uint256 roundDuration,\\n        uint256 difficulty\\n    );\\n\\n    modifier onlyAfterGoalDefinition(uint256 _index){\\n        // cannot produce if block selector goal hasnt been decided yet\\n        // goal is defined the block after selection was reset\\n        require(\\n            block.number >= instance[_index].ethBlockCheckpoint + 1,\\n            \\\"Goal for new block hasnt been decided yet\\\"\\n        );\\n        _;\\n\\n    }\\n\\n    /// @notice Instantiates a BlockSelector structure\\n    /// @param _minDifficulty lower bound for difficulty parameter\\n    /// @param _initialDifficulty starting difficulty\\n    /// @param _difficultyAdjustmentParameter how quickly the difficulty gets updated\\n    /// according to the difference between time passed and target interval.\\n    /// @param _targetInterval how often we want produce noether blocks, in ethereum blocks\\n    /// @param _posManagerAddress address of ProofOfStake that will use this instance\\n    function instantiate(\\n        uint256 _minDifficulty,\\n        uint256 _initialDifficulty,\\n        uint32 _difficultyAdjustmentParameter,\\n        uint32 _targetInterval,\\n        address _posManagerAddress\\n    ) public returns (uint256)\\n    {\\n        instance[currentIndex].minDifficulty = _minDifficulty;\\n        instance[currentIndex].difficulty = _initialDifficulty;\\n        instance[currentIndex].difficultyAdjustmentParameter = _difficultyAdjustmentParameter;\\n        instance[currentIndex].targetInterval = _targetInterval;\\n        instance[currentIndex].posManagerAddress = _posManagerAddress;\\n\\n        instance[currentIndex].ethBlockCheckpoint = uint32(block.number); // first selection starts when the instance is created\\n\\n        active[currentIndex] = true;\\n        return currentIndex++;\\n    }\\n\\n    /// @notice Calculates the log of the random number between the goal and callers address\\n    /// @param _index the index of the instance of block selector you want to interact with\\n    /// @param _user address to calculate log of random\\n    /// @return log of random number between goal and callers address * 1M\\n    function getLogOfRandom(uint256 _index, address _user) internal view returns (uint256) {\\n        // seed for goal takes a block in the future (+1) so it is harder to manipulate\\n        bytes32 currentGoal = blockhash(\\n            getSeed(uint256(instance[_index].ethBlockCheckpoint + 1), block.number)\\n        );\\n        bytes32 hashedAddress = keccak256(abi.encodePacked(_user));\\n        uint256 distance = uint256(keccak256(abi.encodePacked(hashedAddress, currentGoal)));\\n\\n        return CartesiMath.log2ApproxTimes1M(distance);\\n    }\\n\\n    /// @notice Produces a block\\n    /// @param _index the index of the instance of block selector you want to interact with\\n    /// @param _user address that has the right to produce block\\n    /// @param _weight number that will weight the random number, will be the number of staked tokens\\n    function produceBlock(\\n        uint256 _index,\\n        address _user,\\n        uint256 _weight\\n    )\\n    public\\n    onlyAfterGoalDefinition(_index)\\n    returns (bool)\\n    {\\n        BlockSelectorCtx storage bsc = instance[_index];\\n\\n        require(_weight > 0, \\\"Caller can't have zero staked tokens\\\");\\n        require(msg.sender == bsc.posManagerAddress, \\\"Function can only be called by pos address\\\");\\n\\n        if (canProduceBlock(_index, _user, _weight)) {\\n            emit BlockProduced(\\n                _index,\\n                _user,\\n                bsc.blockCount,\\n                getSelectionBlockDuration(_index),\\n                bsc.difficulty\\n            );\\n\\n            return _blockProduced(_index);\\n        }\\n\\n        return false;\\n    }\\n\\n    /// @notice Check if address is allowed to produce block\\n    /// @param _index the index of the instance of block selector you want to interact with\\n    /// @param _user the address that is gonna get checked\\n    /// @param _weight number that will weight the random number, most likely will be the number of staked tokens\\n    function canProduceBlock(uint256 _index, address _user, uint256 _weight) public view returns (bool) {\\n        BlockSelectorCtx storage bsc = instance[_index];\\n\\n        // cannot produce if block selector goal hasnt been decided yet\\n        // goal is defined the block after selection was reset\\n        if (block.number <= bsc.ethBlockCheckpoint + 1) {\\n            return false;\\n        }\\n\\n        uint256 blockDuration = getSelectionBlockDuration(_index);\\n\\n        return (\\n            (_weight.mul(blockDuration)) > bsc.difficulty.mul((DIFFICULTY_BASE_MULTIPLIER - getLogOfRandom(_index, _user)))\\n        );\\n    }\\n\\n    /// @notice Block produced, declare producer and adjust difficulty\\n    /// @param _index the index of the instance of block selector you want to interact with\\n    function _blockProduced(uint256 _index) private returns (bool) {\\n        BlockSelectorCtx storage bsc = instance[_index];\\n\\n        // adjust difficulty\\n        bsc.difficulty = getNewDifficulty(\\n            bsc.minDifficulty,\\n            bsc.difficulty,\\n            uint32((block.number).sub(uint256(bsc.ethBlockCheckpoint))),\\n            bsc.targetInterval,\\n            bsc.difficultyAdjustmentParameter\\n        );\\n\\n        _reset(_index);\\n        return true;\\n    }\\n\\n    /// @notice Reset instance, advancing round and choosing new goal\\n    /// @param _index the index of the instance of block selector you want to interact with\\n    function _reset(uint256 _index) private {\\n        BlockSelectorCtx storage bsc = instance[_index];\\n\\n        bsc.blockCount++;\\n        bsc.ethBlockCheckpoint = uint32(block.number);\\n    }\\n\\n    function getSeed(\\n        uint256 _previousTarget,\\n        uint256 _currentBlock\\n    )\\n    internal\\n    pure\\n    returns (uint256)\\n    {\\n        uint256 diff = _currentBlock.sub(_previousTarget);\\n        uint256 res = diff.div(C_256);\\n\\n        // if difference is multiple of 256 (256, 512, 1024)\\n        // preserve old target\\n        if (diff % C_256 == 0) {\\n            return _previousTarget.add((res - 1).mul(C_256));\\n        }\\n\\n        return _previousTarget.add(res.mul(C_256));\\n    }\\n\\n    /// @notice Calculates new difficulty parameter\\n    /// @param _minDiff minimum difficulty of instance\\n    /// @param _oldDiff is the difficulty of previous round\\n    /// @param _blocksPassed how many ethereum blocks have passed\\n    /// @param _targetInterval is how long a round is supposed to take\\n    /// @param _adjustmentParam is how fast the difficulty gets adjusted,\\n    ///         should be number * 1000000\\n    function getNewDifficulty(\\n        uint256 _minDiff,\\n        uint256 _oldDiff,\\n        uint32 _blocksPassed,\\n        uint32 _targetInterval,\\n        uint32 _adjustmentParam\\n    )\\n    internal\\n    pure\\n    returns (uint256)\\n    {\\n        // @dev to save gas on evaluation, instead of returning the _oldDiff when the target\\n        // was exactly matched - we increase the difficulty.\\n        if (_blocksPassed <= _targetInterval) {\\n            return _oldDiff.add(_oldDiff.mul(_adjustmentParam).div(ADJUSTMENT_BASE) + 1);\\n        }\\n\\n        uint256 newDiff = _oldDiff.sub(_oldDiff.mul(_adjustmentParam).div(ADJUSTMENT_BASE) + 1);\\n\\n        return newDiff > _minDiff ? newDiff : _minDiff;\\n    }\\n\\n    /// @notice Returns the number of blocks\\n    /// @param _index the index of the instance of block selector to be interact with\\n    /// @return number of blocks\\n    function getBlockCount(uint256 _index) public view returns (uint32) {\\n        return instance[_index].blockCount;\\n    }\\n\\n    /// @notice Returns current difficulty\\n    /// @param _index the index of the instance of block selector to be interact with\\n    /// @return difficulty of current selection\\n    function getDifficulty(uint256 _index) public view returns (uint256) {\\n        return instance[_index].difficulty;\\n    }\\n\\n    /// @notice Returns min difficulty\\n    /// @param _index the index of the instance of block selector to be interact with\\n    /// @return min difficulty of instance\\n    function getMinDifficulty(uint256 _index) public view returns (uint256) {\\n        return instance[_index].minDifficulty;\\n    }\\n\\n    /// @notice Returns difficulty adjustment parameter\\n    /// @param _index the index of the instance of block selector to be interact with\\n    /// @return difficulty adjustment parameter\\n    function getDifficultyAdjustmentParameter(\\n        uint256 _index\\n    )\\n    public\\n    view\\n    returns (uint32)\\n    {\\n        return instance[_index].difficultyAdjustmentParameter;\\n    }\\n\\n    /// @notice Returns target interval\\n    /// @param _index the index of the instance of block selector to be interact with\\n    /// @return target interval\\n    function getTargetInterval(uint256 _index) public view returns (uint32) {\\n        return instance[_index].targetInterval;\\n    }\\n\\n    /// @notice Returns time since last selection started, in ethereum blocks\\n    /// @param _index the index of the instance of block selector to be interact with\\n    /// @return number of etheereum blocks passed since last selection started\\n    /// @dev block duration resets every 256 blocks\\n    function getSelectionBlockDuration(uint256 _index)\\n    public\\n    view\\n    returns (uint256)\\n    {\\n        BlockSelectorCtx storage bsc = instance[_index];\\n\\n        uint256 goalBlock = uint256(bsc.ethBlockCheckpoint + 1);\\n\\n        // target hasnt been set\\n        if (goalBlock >= block.number) return 0;\\n\\n        uint256 blocksPassed = (block.number).sub(goalBlock);\\n\\n        // if blocksPassed is multiple of 256, 256 blocks have passed\\n        // this avoids blocksPassed going to zero right before target change\\n        if (blocksPassed % C_256 == 0) return C_256;\\n\\n        return blocksPassed % C_256;\\n    }\\n\\n    function getState(uint256 _index, address _user)\\n    public view returns (uint256[5] memory _uintValues) {\\n        BlockSelectorCtx storage i = instance[_index];\\n\\n        uint256[5] memory uintValues = [\\n            block.number,\\n            i.ethBlockCheckpoint + 1, // initial selection goal\\n            i.difficulty,\\n            getSelectionBlockDuration(_index), // blocks passed\\n            getLogOfRandom(_index, _user)\\n        ];\\n\\n        return uintValues;\\n    }\\n\\n    function isConcerned(uint256, address) public override pure returns (bool) {\\n        return false; // isConcerned is only for the main concern (PoS)\\n    }\\n\\n    function getSubInstances(uint256, address)\\n        public override pure returns (address[] memory _addresses,\\n            uint256[] memory _indices)\\n    {\\n        address[] memory a;\\n        uint256[] memory i;\\n\\n        a = new address[](0);\\n        i = new uint256[](0);\\n\\n        return (a, i);\\n    }\\n}\\n\",\"keccak256\":\"0x57506378cc97b96771d0423d030e6176ae03ff23b706b713f5540e4a7fa0050f\",\"license\":\"Apache-2.0\"}},\"version\":1}",
  "bytecode": "0x60806040526000805534801561001457600080fd5b50600360205260007fa15bc60c955c405d20d9149c709e2460f1c2d9a497496a7f46004d1772c3054c819055620f42407fc3a24b0501bd2c13a7e57f2db4369ec4c223447539fc0724a9d55ac4a06ebd4d5562182f427fcbc4e5fb02c3d1de23a9f1e014b4d2ee5aeaea9505df5e855c9210bf472495af55621e84807f83ec6a1f0257b830b5e016457c9cf1435391bf56cc98f369a58a54fe937724655562236e087f405aad32e1adbac89bb7f176e338b8fc6e994ca210c9bb7bdca249b46594225055622771827fc69056f16cbaa3c616b828e333ab7d3a32310765507f8f58359e99ebb7a885f355622ad63a7ff2c49132ed1cee2a7e75bde50d332a2f81f1d01e5456d8a19d1df09bd561dbd255622dc6c07f85aaa47b6dc46495bb8824fad4583769726fea36efd831a35556690b830a8fbe5562305e857f8a8dc4e5242ea8b1ab1d60606dae757e6c2cca9f92a2cced9f72c19960bcb458556232b0487f9dcb9783ba5cd0b54745f65f4f918525e461e91888c334e5342cb380ac558d53556234c9677f2d72af3c1b2b2956e6f694fb741556d5ca9524373974378cdbec16afa8b84164556236b3c27fd56a60595ebefebed7f22dcee6c2acc61b06cf8c68e84c88677840365d1ff92b55623876d77fa8f2d96126c6d0ad63adabaef7bf5cf47f163fb0c218a473d28f62312d197bcf55623a187a7fd6ebcc64c739277b117ce359e436534b234b76e914c80ad276abf5b56207893955623b9d4a7ff60b7f6a315ec68a6ac240e69dca53652b38627f709a2caa217d9e18af4d7a6055623d09007f47d4745e02b343689a5e7ac121d2a352b7a15c10328a8759fd7d4cf0999002bb55623e5ea67ffc111d09a6e2f0958402cbe16a5aef32c9d8ddb9a4df7271140de57bfed6525a55623fa0c57f6a2b6bffaca788160f671fa62d34758b717f75a90ad5a468757c50d61f33c443556240d1777f8a8166be5f30abeb6c91ee2f07eeb0b2eb14b4d59534d10a1c143964bd617919556241f2887f0ffe031ee7f67944a037276fd51f48fcc2fe05a729c43144606bc8777da8014f556243057d7f94f2575c7592b1dfd5a8846a17482da7b0e38fb10c93880d74916c5f167924645562440ba77f370c8c7c6215b209793aa720f65163fbeecd5f5114008532ba0649ee2340540255624506297f0f0519a40093d7edad68f12e2ec868fdf92a03df1cbec3e035c987d6b218f2f4556245f6027fa3ddc4e8d053be09ec661eb04964a206cbd921c2c11fc03088857923bed1485a556246dc107fad96411afed98a37aa585ce71717b0782fa4bee47da09d8f483e532128238611556247b9177f68fc0e82119a780903c8e97d959a36d433d1e401ad7b7a461ff2087e524d54a85562488dc77f925be0b447003e4366d6addf976a9e5448b14e56ca3733fe4a9ca6f86b0dcbd55562495aba7f57023ef7fe58b878582140ea36f22723905ad724896eaf74090fba76c229bd2255624a207c7f4ba0d371c59a4c8176901cb7799ecdd8b41b974be3a1349b5d0a9ff9aaa230d955624adf8a7f6117fee2f1274e1b392d2c3fe842478040a980d896757f38cbfe2ceebfa9f55f55624b98547fbb7ea1d025e27e153f156855239b4b128e9da3a64a6f0a0270f892098958814255624c4b407fe0033292d8349127dd6b6fa9c34f6f3d290151b2785dbcbf18fa2c3985d1f74355624cf8aa7fb79c508b45d95db38395ed273cca5afa4bcb8f1225ec7e9c849430db27d6f0fe55624da0e67f9f4e12e393433b9749089d7660b578840ae05c9423ce1aefceb0c80c340a21c655624e44437f4f8c9d329171a3577e6beb939d329b1f26da4c7a51f25bbe134c866f0feee94555624ee3057f10f5232ee9f6343d8bf0b7c9043a31ee616d8f028dcf3d2e9033ff8e0ce0ef0f55624f7d6d7f37e56e4c2b6ed73b31a7a63e641bfee67245b50921806a650aa65bb58a213ba755625013b77f6e80044b428a86ddb5f7277680f16ac528219bbc3f477f367a023fd1680fef05556250a61a7f10f3a17841c6d818ccbb16e4596978865bb77ba586b583c9de26b166e55de86455625134c87ff787d5ff306ee7ea1d7b35b5cacd5a837646921c113945dbc3a3b6329ce40033556251bff07fa6d60d4ff1c38ae572157a43d1b8579039e4b4cc96e22c75c07379751785fe5155625247bd7ffbefd6df65b5da21e9f0dc3da2df6dc37be71551086f5aba2b0ad548c4758150556252cc587f47bd603b2672149df187087e649a417345c22ebc601af252344b2472b5a5fea85562534de77f181ec19a0f957384e4ecbe9410e516ad0fe8cc3e53caac5ffc50eb11e64bf488556253cc8d7fa4b6f6c87384a4c75064343ffd6646b01b98a7d0701dec60343872fe39d7889455625448697fa7d0f7195d52522be008ca0e9c182cb8d5cdec7c4327b16f8f80417732546566556254c19c7f8a3a0b6f6fa9438554c4aa5bdaf7838f6c90507836aabb33d6ebaeb414e248f955625538427f5f3ffac152518418b730c1b4427b48de47a050e582434504c9ffd15088f0d196556255ac757f28eef39a072497d2105dcb780594e4ed840d3beb94e2ea31a78a935b50a4ae2e5562561e507f3ba015d6b845e102ce2f76836007be82508e3543856f2a3c2ff4b56eb46d920e5562568de97f308b08755ec965f49e4d58d22ebbf80dc425791b553f8567a173e85e1abb76c3556256fb577fda4c88cb8422456e6dbc87bdc0d70fdf69c0f9f7d6833899744759615d2d4cc555625766b07f6a4c132bb6958029ac3595112f46988f11d4ebbbea74e0a2100963f772df62e2556257d0077f1c5556a54fe414bb73b8e027c2ff4bb044a11e7ca4f73a8463fd263d06b76aa6556258376f7f2bb318060b44525c3d947c00393e6d416e9d457a7e83b67b8daab0973739b0fa5562589cfa7f22848320af6c4894685e387cf97d56ba798f5dabcd8f3a2db70374776f0f2f9355625900ba7f7328c223b526ac18a2ca34e3cc928d22c174fde8c81d65ae5d17c01763d134b155625962bc7f4e68cda4a6128fdfebaae69af59e96a318b50754e0da27477d282f3d224cc4fd556259c3137f9c0ea5b0ac1441361bd97a1871d83799b2d794cf29a9954ddc2e33262e005d6755625a21ca7f01c8d1bf01472944f62fa726559c57c955f3535856e865cee78082252c0dbe6555625a7ef17fa171e6dff2e291b2403638b36fa1900bfb6d28056b9cc28339adf04ff3e24b8855625ada947f7bfa808024a5334b0a1e191d8e95f6724ea40d1a03d1286b6934e670f8c6924b55625b34bf7f163a647ba7edd41caabec3eace9ce83f1a89ebea06fc099aa7fb98088da7513155625b8d807f13e779bc7ec8e84a68157fc5c2caa579dc0ee0b80d83944c270539b94cac271f55625be4df7fc20be026ae5ea792bd28b5908d1dfcfd8c2e447d9276607ddf6143e7dddc0fe855625c3aea7ffc869d08d1790d4602743c5b6e4adb33c74c1d0d7c8c47359779d859193dcb0555625c8fa97f682542400590cecd25f82cad25103b4dc125cd3511d319539197c8bb9765a74f55625ce3267fd5310f85f4460a57771b0ba7c922e1273458411836157e863377c3ceba09ccc555625d356c7f885ce2cbc289e24b266643f1b3bd713351837e3869b2fe1821204bfb89df835555625d86837fdd629e5d55690c61d87bb2283f8033a4ed0c9727f0b3cc897e051f7afda800a555625dd6737fbf2d989c23a487b38b309e949c76d08bdddf97e9ae5fc829f5fc1d9822c0dd1955625e25457f8195e934be8e1e1e67e36670679242f3eb3fe013d19203686902c1dc42dff3e455625e73007fea1c8d9962659d05b79d2a74379c386e592caf47911721f070f5587a9f030ffa55625ebfad7f4527180e78e4a6462bf9deb3d847e2025103f904bac3cb89e4a58cffdf5fa00455625f0b527f58c60c4a0bb2d3f34cbaba1a0b564f51356f6627445683dc231bf6b72193af3c55625f55f77fd899c8b99c107ebd126158f0533ed068d266f28a5afc25749942d7d708638c6d55625f9fa27ff2222d92a706d2b36524284936563927b6d77fb3761e96fdbe8143f444bd785b55625fe85a7fd59eb1c08df610a2d207db4db91372b9fa60f3de2255ec3b0fbfc33ac859314955626030247f35cf9ccc5fb50786824d0efe505d33216d9658f34614e7c25f0d5baeb2b0c67255626077087fe7defe1a9ee2663e7f593684ebe15b56452e1fa833a7efa12070ad6443b10819556260bd0a7f0cc2e7a263101f3ec4cff7d64ef5961ae18d1d70e854cb40c5302bf7c043d7b955626102307f21a96d7401b4330badc55cca6afdb5531f4ba2a6923da027f434c4639f5c1d71556261467f7fef8374c201f52e9cadf0358fa9fe81d3b5dc6cfd55611ff392a0f6af5d359a1b55626189fd7ffd55fc2e9ef63e16e696580fa41a16b1359de042d9d894f9176ffec1c194a986556261ccae7f2306dd40301e71102649086fa4506190474e93c93807bd630a59f18e25c479655562620e987fc201016ffcff91372d8b487e0ff78ba4e7738ee54ab48b285b35d264809991125562624fbf7fa484bdabb1b1f1b9f179449ca8abb8e46314b53c02f491f47dc3b425cdc5c27255626290277fca1941ffd2876354dca11a76468fb85895321380bff6312dcbd61b110f22031e556262cfd57f2642cbfa046d8004053cd054e488df5b74257ae1e497e38d227e7244ef11bf2d5562630ecd7f3219ed562b3fd9188a49dd9a57bec5aecadcb61ea33f29053262442c210d825f5562634d127f0913d404e020f0557f3aea1dc8fd0190ea3453f59952e2c41e4746bdfcd39c785562638aa97f81df324fbe7ec2f6d6affc089132b5517e4c091511c539ecfb5003bac7e24648556263c7967f0d4058d6b6bac28a1c06101425f18eb1ca62098acfc503f321647be92939156d55626403dc7f2023c3bd05b942cf6cbd5cd645de4d3fea19926fd4838b16303d2ed6275084725562643f7f7fb9c7405fdb60827a063770d15a9163cf3257eafb54d63ebc3245e8170763b9ae5562647a827f6b9240d7ade1f051aed76811ad8dd613b8df4c244b38ce53081de0fea8fec673556264b4e87f767e32fd18349f6756b14c9960d71c7fab8d03be981e4c9c8d4aa06a28b66047556264eeb57f95505a17747b834552dc9f252b9911e949b8ffdf7a51d678a6bd11af986b15de55626527ec7f60193afc785b329e0409b25280ddad469386cea4adcdaee645046ba068f899a555626560907f6b16ef514f22b74729cbea5cc7babfecbdc2309e530ca716643d11fe929eed2e55626598a37f5ed25f7f90ee98fc55a6c59d7b052a857d4bf613ad8f5f7fd8077c1e252c6c1a556265d0297feaaacae94bbfc90c56bc9f09c078e38d09be79409287043ed56adc78213c210955626607247fd3f86b308abd5a5ac58ed63770d3a598e1ef2fea81b795d05851b62b55f860e15562663d977fc7f3482db4b48d5b39d680ce04da2e80d893166f9e18fa49855f2d75c8538dc955626673857f8bd72d705e704e96ab1fa5baf1ac8053f4ec008dca8cf0376ca60a5648fa9532556266a8f07f7b2f1db823434eb2c3257b921622f3b73c33ed78ab6344072b7d0d89829cce01556266ddda7f296cfac21069339fcd7b6795214eac09a46f358e68cba56520ec496c3c1f4ad555626712477fb567f360362dc4a027220042f6ee0433026937822e3fc3bc268ec5f820d029fa55626746387fbca97d98b7da2037de81c9a55b229109649fd288e0c478a01cd149c3609ae90b55626779af7f0de2b21138735878e0660eef23d1131fad23d66157bfa1c473a82b60c5169926556267acaf7e4ef3f825c8849c73999f6e84fcb0332c1597fa3afbd85f7f1f35c7ac696bc2556267df3a7f9ff053d1d05d615e9da14e487ea593a41d5f35a8cc975b547dec50b34f0a1fc355626811527fbb4ac5d7b238e09f0346251f5f12e6fe98711019a88910e6a64f47bf73e6c3c255626842fa7f934d131d2cde113c982d8c5aa4cd3a36418695634bde518aa36ccc61a54277a455626874327f171401a72e6158e4ccfac50451ab80b54a8a49fb38ddbe4a9fa1dc4621db11df556268a4fc7f158cf96e390593ec3d9db70f55562909ef65f4603e50b9bf4a3df75ee2795f30556268d55c7f8a6b747e4193754f5887d456542feeee62a909f5cc32e46553fc5e84632ffaaf55626905537fbaba906220955b09fec23b575e20afa7d08161b8520bb9d5ec850371b93edf9855626934e17fb5a42588d5297c2c9a9751ba5ae38977af4907b8f80318e93daca5c46498c2f2556269640a7fe372c44748f4c2908ae7c0a1dc553464478b0394f70953faecd55173b039317c55626992cf7fb8ffc108b5770692dc6f82cd58a35d7f10f432156bbe6b494657d1d60f3c1122556269c1317f0c91243f75e216cf1d80d738f653c23abf15a7e3590b83c6e4772e2ddcffe533556269ef327fc6c1f2eeb875766781b69c94cb973ac6e9b00bb16318d283df0af503db0f700d55626a1cd47feed16813d2f65d55dfcd646492ebe0107b86489aa89e1ee58b4c544f69fec4ae55626a4a187fc0731efbb8e22f33f65c29aab21810b779ac375fa7bc4012aa97121e576839e055626a76ff7f4f927caeb3971f91fa48df6c469df5f4f4dedc93d1908f816f25a660193dc17155626aa38c7fbb77812a8fa7fa6a572953fea9126358f3aec9cde938b0c1788d783c38ffd2cb5560809052626acfc07f3429d6fa9db26e5631128d8185584d24f10323af033be7ff252ec8822b07bae155610fc78061132c6000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c806383f6f5ca11610097578063d0aeade711610066578063d0aeade7146103b3578063da1c7140146103d0578063e3581b6814610419578063f90700441461043657610100565b806383f6f5ca14610297578063983ef725146102b4578063c526656c146102d1578063c67ddc381461039657610100565b80635378014f116100d35780635378014f146101b257806359dc826c146101e457806373df16121461021657806382afd23b1461027a57610100565b806301ff62ab1461010557806326987b60146101455780633d46b8191461015f5780634e58fdca1461017c575b600080fd5b6101316004803603604081101561011b57600080fd5b50803590602001356001600160a01b0316610453565b604080519115158252519081900360200190f35b61014d61045c565b60408051918252519081900360200190f35b61014d6004803603602081101561017557600080fd5b5035610462565b6101996004803603602081101561019257600080fd5b5035610513565b6040805163ffffffff9092168252519081900360200190f35b610131600480360360608110156101c857600080fd5b508035906001600160a01b036020820135169060400135610538565b610131600480360360608110156101fa57600080fd5b508035906001600160a01b0360208201351690604001356106cd565b6102426004803603604081101561022c57600080fd5b50803590602001356001600160a01b031661073e565b604051808260a080838360005b8381101561026757818101518382015260200161024f565b5050505090500191505060405180910390f35b6101316004803603602081101561029057600080fd5b50356107bd565b61014d600480360360208110156102ad57600080fd5b50356107d2565b61014d600480360360208110156102ca57600080fd5b50356107e4565b6102fd600480360360408110156102e757600080fd5b50803590602001356001600160a01b03166107f9565b604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610341578181015183820152602001610329565b50505050905001838103825284818151815260200191508051906020019060200280838360005b83811015610380578181015183820152602001610368565b5050505090500194505050505060405180910390f35b61014d600480360360208110156103ac57600080fd5b5035610846565b610199600480360360208110156103c957600080fd5b50356108a6565b61014d600480360360a08110156103e657600080fd5b50803590602081013590604081013563ffffffff90811691606081013590911690608001356001600160a01b03166108c8565b61014d6004803603602081101561042f57600080fd5b50356109a3565b6101996004803603602081101561044c57600080fd5b5035610a42565b60005b92915050565b60005481565b60008180600054116104b4576040805162461bcd60e51b8152602060048201526016602482015275125b99195e081b9bdd081a5b9cdd185b9d1a585d195960521b604482015290519081900360640190fd5b6104bd816107bd565b6104ff576040805162461bcd60e51b815260206004820152600e60248201526d496e64657820696e61637469766560901b604482015290519081900360640190fd5b505060009081526002602052604090205490565b600081815260046020526040902060020154600160a01b900463ffffffff165b919050565b600083815260046020526040812060030154849063ffffffff908116600101164310156105965760405162461bcd60e51b8152600401808060200182810382526029815260200180610f246029913960400191505060405180910390fd5b6000858152600460205260409020836105e05760405162461bcd60e51b8152600401808060200182810382526024815260200180610f6e6024913960400191505060405180910390fd5b60028101546001600160a01b0316331461062b5760405162461bcd60e51b815260040180806020018281038252602a815260200180610efa602a913960400191505060405180910390fd5b6106368686866106cd565b156106bf57846001600160a01b0316867f14aa79ee14fcd694c30b9c3f6d41247d2e0c87bfefec35a6864d124e8086467283600201601c9054906101000a900463ffffffff166106858a610846565b60018601546040805163ffffffff9094168452602084019290925282820152519081900360600190a36106b786610a64565b9250506106c5565b60009250505b509392505050565b6000838152600460205260408120600381015463ffffffff9081166001011643116106fc576000915050610737565b600061070786610846565b90506107276107168787610ad1565b600184015490630f42400003610b70565b6107318583610b70565b11925050505b9392505050565b610746610edb565b600083815260046020526040902061075c610edb565b6040518060a001604052804381526020018360030160009054906101000a900463ffffffff1660010163ffffffff168152602001836001015481526020016107a387610846565b81526020016107b28787610ad1565b905295945050505050565b60009081526001602052604090205460ff1690565b60009081526004602052604090205490565b60009081526004602052604090206001015490565b60608080806000604051908082528060200260200182016040528015610829578160200160208202803683370190505b506040805160008152602081019091529097909650945050505050565b6000818152600460205260408120600381015463ffffffff9081166001011643811061087757600092505050610533565b60006108834383610bc9565b9050610100810661089b576101009350505050610533565b60ff16949350505050565b600090815260046020526040902060020154600160e01b900463ffffffff1690565b600080548152600460209081526040808320889055825483528083206001908101889055835484528184206002908101805463ffffffff60a01b1916600160a01b63ffffffff8b81169190910291909117909155855486528386208201805463ffffffff60c01b1916600160c01b8a8416021790558554865283862090910180546001600160a01b0319166001600160a01b03881617905584548552828520600301805463ffffffff19164390921691909117905583548452918290528220805460ff19168217905581549081019091555b95945050505050565b60008082116109f1576040805162461bcd60e51b81526020600482015260156024820152744e756d6265722063616e6e6f74206265207a65726f60581b604482015290519081900360640190fd5b60008260011415610a06576000915050610533565b5b6080831115610a1c57600192831c9201610a07565b60008381526003602052604090205461073790610a3c83620f4240610b70565b90610c0b565b600090815260046020526040902060020154600160c01b900463ffffffff1690565b6000818152600460205260408120805460018201546003830154610aba929190610a9990439063ffffffff90811690610bc916565b600285015463ffffffff600160c01b8204811691600160a01b900416610c65565b6001820155610ac883610cf3565b50600192915050565b6000828152600460205260408120600301548190610afb9063ffffffff9081166001011643610d48565b604080516bffffffffffffffffffffffff19606087901b166020808301919091528251808303601401815260348301845280519082012060548301819052934060748084018290528451808503909101815260949093019093528151910120909250610b66816109a3565b9695505050505050565b600082610b7f57506000610456565b82820282848281610b8c57fe5b04146107375760405162461bcd60e51b8152600401808060200182810382526021815260200180610f4d6021913960400191505060405180910390fd5b600061073783836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610da2565b600082820183811015610737576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b60008263ffffffff168463ffffffff1611610cae57610ca7610c9d620f4240610c978863ffffffff80881690610b7016565b90610e39565b8690600101610c0b565b905061099a565b6000610cd7610ccd620f4240610c978963ffffffff80891690610b7016565b8790600101610bc9565b9050868111610ce65786610ce8565b805b979650505050505050565b60009081526004602052604090206002810180546001600160e01b038116600160e01b9182900463ffffffff9081166001018116909202179091556003909101805463ffffffff191643909216919091179055565b600080610d558385610bc9565b90506000610d6582610100610e39565b90506101008206610d9357610d8a610d836000198301610100610b70565b8690610c0b565b92505050610456565b61099a610d8382610100610b70565b60008184841115610e315760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610df6578181015183820152602001610dde565b50505050905090810190601f168015610e235780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600061073783836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f00000000000081525060008183610ec55760405162461bcd60e51b8152602060048201818152835160248401528351909283926044909101919085019080838360008315610df6578181015183820152602001610dde565b506000838581610ed157fe5b0495945050505050565b6040518060a00160405280600590602082028036833750919291505056fe46756e6374696f6e2063616e206f6e6c792062652063616c6c656420627920706f732061646472657373476f616c20666f72206e657720626c6f636b206861736e74206265656e206465636964656420796574536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f7743616c6c65722063616e27742068617665207a65726f207374616b656420746f6b656e73a26469706673582212206d50471085e50c4f5391abd862d69eda19a22e9a509cc3506b8afcd06e40c84764736f6c63430007040033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101005760003560e01c806383f6f5ca11610097578063d0aeade711610066578063d0aeade7146103b3578063da1c7140146103d0578063e3581b6814610419578063f90700441461043657610100565b806383f6f5ca14610297578063983ef725146102b4578063c526656c146102d1578063c67ddc381461039657610100565b80635378014f116100d35780635378014f146101b257806359dc826c146101e457806373df16121461021657806382afd23b1461027a57610100565b806301ff62ab1461010557806326987b60146101455780633d46b8191461015f5780634e58fdca1461017c575b600080fd5b6101316004803603604081101561011b57600080fd5b50803590602001356001600160a01b0316610453565b604080519115158252519081900360200190f35b61014d61045c565b60408051918252519081900360200190f35b61014d6004803603602081101561017557600080fd5b5035610462565b6101996004803603602081101561019257600080fd5b5035610513565b6040805163ffffffff9092168252519081900360200190f35b610131600480360360608110156101c857600080fd5b508035906001600160a01b036020820135169060400135610538565b610131600480360360608110156101fa57600080fd5b508035906001600160a01b0360208201351690604001356106cd565b6102426004803603604081101561022c57600080fd5b50803590602001356001600160a01b031661073e565b604051808260a080838360005b8381101561026757818101518382015260200161024f565b5050505090500191505060405180910390f35b6101316004803603602081101561029057600080fd5b50356107bd565b61014d600480360360208110156102ad57600080fd5b50356107d2565b61014d600480360360208110156102ca57600080fd5b50356107e4565b6102fd600480360360408110156102e757600080fd5b50803590602001356001600160a01b03166107f9565b604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610341578181015183820152602001610329565b50505050905001838103825284818151815260200191508051906020019060200280838360005b83811015610380578181015183820152602001610368565b5050505090500194505050505060405180910390f35b61014d600480360360208110156103ac57600080fd5b5035610846565b610199600480360360208110156103c957600080fd5b50356108a6565b61014d600480360360a08110156103e657600080fd5b50803590602081013590604081013563ffffffff90811691606081013590911690608001356001600160a01b03166108c8565b61014d6004803603602081101561042f57600080fd5b50356109a3565b6101996004803603602081101561044c57600080fd5b5035610a42565b60005b92915050565b60005481565b60008180600054116104b4576040805162461bcd60e51b8152602060048201526016602482015275125b99195e081b9bdd081a5b9cdd185b9d1a585d195960521b604482015290519081900360640190fd5b6104bd816107bd565b6104ff576040805162461bcd60e51b815260206004820152600e60248201526d496e64657820696e61637469766560901b604482015290519081900360640190fd5b505060009081526002602052604090205490565b600081815260046020526040902060020154600160a01b900463ffffffff165b919050565b600083815260046020526040812060030154849063ffffffff908116600101164310156105965760405162461bcd60e51b8152600401808060200182810382526029815260200180610f246029913960400191505060405180910390fd5b6000858152600460205260409020836105e05760405162461bcd60e51b8152600401808060200182810382526024815260200180610f6e6024913960400191505060405180910390fd5b60028101546001600160a01b0316331461062b5760405162461bcd60e51b815260040180806020018281038252602a815260200180610efa602a913960400191505060405180910390fd5b6106368686866106cd565b156106bf57846001600160a01b0316867f14aa79ee14fcd694c30b9c3f6d41247d2e0c87bfefec35a6864d124e8086467283600201601c9054906101000a900463ffffffff166106858a610846565b60018601546040805163ffffffff9094168452602084019290925282820152519081900360600190a36106b786610a64565b9250506106c5565b60009250505b509392505050565b6000838152600460205260408120600381015463ffffffff9081166001011643116106fc576000915050610737565b600061070786610846565b90506107276107168787610ad1565b600184015490630f42400003610b70565b6107318583610b70565b11925050505b9392505050565b610746610edb565b600083815260046020526040902061075c610edb565b6040518060a001604052804381526020018360030160009054906101000a900463ffffffff1660010163ffffffff168152602001836001015481526020016107a387610846565b81526020016107b28787610ad1565b905295945050505050565b60009081526001602052604090205460ff1690565b60009081526004602052604090205490565b60009081526004602052604090206001015490565b60608080806000604051908082528060200260200182016040528015610829578160200160208202803683370190505b506040805160008152602081019091529097909650945050505050565b6000818152600460205260408120600381015463ffffffff9081166001011643811061087757600092505050610533565b60006108834383610bc9565b9050610100810661089b576101009350505050610533565b60ff16949350505050565b600090815260046020526040902060020154600160e01b900463ffffffff1690565b600080548152600460209081526040808320889055825483528083206001908101889055835484528184206002908101805463ffffffff60a01b1916600160a01b63ffffffff8b81169190910291909117909155855486528386208201805463ffffffff60c01b1916600160c01b8a8416021790558554865283862090910180546001600160a01b0319166001600160a01b03881617905584548552828520600301805463ffffffff19164390921691909117905583548452918290528220805460ff19168217905581549081019091555b95945050505050565b60008082116109f1576040805162461bcd60e51b81526020600482015260156024820152744e756d6265722063616e6e6f74206265207a65726f60581b604482015290519081900360640190fd5b60008260011415610a06576000915050610533565b5b6080831115610a1c57600192831c9201610a07565b60008381526003602052604090205461073790610a3c83620f4240610b70565b90610c0b565b600090815260046020526040902060020154600160c01b900463ffffffff1690565b6000818152600460205260408120805460018201546003830154610aba929190610a9990439063ffffffff90811690610bc916565b600285015463ffffffff600160c01b8204811691600160a01b900416610c65565b6001820155610ac883610cf3565b50600192915050565b6000828152600460205260408120600301548190610afb9063ffffffff9081166001011643610d48565b604080516bffffffffffffffffffffffff19606087901b166020808301919091528251808303601401815260348301845280519082012060548301819052934060748084018290528451808503909101815260949093019093528151910120909250610b66816109a3565b9695505050505050565b600082610b7f57506000610456565b82820282848281610b8c57fe5b04146107375760405162461bcd60e51b8152600401808060200182810382526021815260200180610f4d6021913960400191505060405180910390fd5b600061073783836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610da2565b600082820183811015610737576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b60008263ffffffff168463ffffffff1611610cae57610ca7610c9d620f4240610c978863ffffffff80881690610b7016565b90610e39565b8690600101610c0b565b905061099a565b6000610cd7610ccd620f4240610c978963ffffffff80891690610b7016565b8790600101610bc9565b9050868111610ce65786610ce8565b805b979650505050505050565b60009081526004602052604090206002810180546001600160e01b038116600160e01b9182900463ffffffff9081166001018116909202179091556003909101805463ffffffff191643909216919091179055565b600080610d558385610bc9565b90506000610d6582610100610e39565b90506101008206610d9357610d8a610d836000198301610100610b70565b8690610c0b565b92505050610456565b61099a610d8382610100610b70565b60008184841115610e315760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610df6578181015183820152602001610dde565b50505050905090810190601f168015610e235780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600061073783836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f00000000000081525060008183610ec55760405162461bcd60e51b8152602060048201818152835160248401528351909283926044909101919085019080838360008315610df6578181015183820152602001610dde565b506000838581610ed157fe5b0495945050505050565b6040518060a00160405280600590602082028036833750919291505056fe46756e6374696f6e2063616e206f6e6c792062652063616c6c656420627920706f732061646472657373476f616c20666f72206e657720626c6f636b206861736e74206265656e206465636964656420796574536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f7743616c6c65722063616e27742068617665207a65726f207374616b656420746f6b656e73a26469706673582212206d50471085e50c4f5391abd862d69eda19a22e9a509cc3506b8afcd06e40c84764736f6c63430007040033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "canProduceBlock(uint256,address,uint256)": {
        "params": {
          "_index": "the index of the instance of block selector you want to interact with",
          "_user": "the address that is gonna get checked",
          "_weight": "number that will weight the random number, most likely will be the number of staked tokens"
        }
      },
      "getBlockCount(uint256)": {
        "params": {
          "_index": "the index of the instance of block selector to be interact with"
        },
        "returns": {
          "_0": "number of blocks"
        }
      },
      "getDifficulty(uint256)": {
        "params": {
          "_index": "the index of the instance of block selector to be interact with"
        },
        "returns": {
          "_0": "difficulty of current selection"
        }
      },
      "getDifficultyAdjustmentParameter(uint256)": {
        "params": {
          "_index": "the index of the instance of block selector to be interact with"
        },
        "returns": {
          "_0": "difficulty adjustment parameter"
        }
      },
      "getMinDifficulty(uint256)": {
        "params": {
          "_index": "the index of the instance of block selector to be interact with"
        },
        "returns": {
          "_0": "min difficulty of instance"
        }
      },
      "getSelectionBlockDuration(uint256)": {
        "details": "block duration resets every 256 blocks",
        "params": {
          "_index": "the index of the instance of block selector to be interact with"
        },
        "returns": {
          "_0": "number of etheereum blocks passed since last selection started"
        }
      },
      "getTargetInterval(uint256)": {
        "params": {
          "_index": "the index of the instance of block selector to be interact with"
        },
        "returns": {
          "_0": "target interval"
        }
      },
      "instantiate(uint256,uint256,uint32,uint32,address)": {
        "params": {
          "_difficultyAdjustmentParameter": "how quickly the difficulty gets updated according to the difference between time passed and target interval.",
          "_initialDifficulty": "starting difficulty",
          "_minDifficulty": "lower bound for difficulty parameter",
          "_posManagerAddress": "address of ProofOfStake that will use this instance",
          "_targetInterval": "how often we want produce noether blocks, in ethereum blocks"
        }
      },
      "log2ApproxTimes1M(uint256)": {
        "params": {
          "_num": "number to take log2 * 1M of"
        }
      },
      "produceBlock(uint256,address,uint256)": {
        "params": {
          "_index": "the index of the instance of block selector you want to interact with",
          "_user": "address that has the right to produce block",
          "_weight": "number that will weight the random number, will be the number of staked tokens"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "canProduceBlock(uint256,address,uint256)": {
        "notice": "Check if address is allowed to produce block"
      },
      "getBlockCount(uint256)": {
        "notice": "Returns the number of blocks"
      },
      "getDifficulty(uint256)": {
        "notice": "Returns current difficulty"
      },
      "getDifficultyAdjustmentParameter(uint256)": {
        "notice": "Returns difficulty adjustment parameter"
      },
      "getMinDifficulty(uint256)": {
        "notice": "Returns min difficulty"
      },
      "getSelectionBlockDuration(uint256)": {
        "notice": "Returns time since last selection started, in ethereum blocks"
      },
      "getTargetInterval(uint256)": {
        "notice": "Returns target interval"
      },
      "instantiate(uint256,uint256,uint32,uint32,address)": {
        "notice": "Instantiates a BlockSelector structure"
      },
      "log2ApproxTimes1M(uint256)": {
        "notice": "Approximates log2 * 1M"
      },
      "produceBlock(uint256,address,uint256)": {
        "notice": "Produces a block"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 927,
        "contract": "contracts/BlockSelector.sol:BlockSelector",
        "label": "currentIndex",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 931,
        "contract": "contracts/BlockSelector.sol:BlockSelector",
        "label": "active",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_uint256,t_bool)"
      },
      {
        "astId": 935,
        "contract": "contracts/BlockSelector.sol:BlockSelector",
        "label": "nonce",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_uint256,t_uint256)"
      },
      {
        "astId": 9,
        "contract": "contracts/BlockSelector.sol:BlockSelector",
        "label": "log2tableTimes1M",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_uint256,t_uint256)"
      },
      {
        "astId": 1535,
        "contract": "contracts/BlockSelector.sol:BlockSelector",
        "label": "instance",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_uint256,t_struct(BlockSelectorCtx)1531_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_uint256,t_bool)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_struct(BlockSelectorCtx)1531_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct BlockSelector.BlockSelectorCtx)",
        "numberOfBytes": "32",
        "value": "t_struct(BlockSelectorCtx)1531_storage"
      },
      "t_mapping(t_uint256,t_uint256)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_struct(BlockSelectorCtx)1531_storage": {
        "encoding": "inplace",
        "label": "struct BlockSelector.BlockSelectorCtx",
        "members": [
          {
            "astId": 1518,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "minDifficulty",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 1520,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "difficulty",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 1522,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "posManagerAddress",
            "offset": 0,
            "slot": "2",
            "type": "t_address"
          },
          {
            "astId": 1524,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "difficultyAdjustmentParameter",
            "offset": 20,
            "slot": "2",
            "type": "t_uint32"
          },
          {
            "astId": 1526,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "targetInterval",
            "offset": 24,
            "slot": "2",
            "type": "t_uint32"
          },
          {
            "astId": 1528,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "blockCount",
            "offset": 28,
            "slot": "2",
            "type": "t_uint32"
          },
          {
            "astId": 1530,
            "contract": "contracts/BlockSelector.sol:BlockSelector",
            "label": "ethBlockCheckpoint",
            "offset": 0,
            "slot": "3",
            "type": "t_uint32"
          }
        ],
        "numberOfBytes": "128"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint32": {
        "encoding": "inplace",
        "label": "uint32",
        "numberOfBytes": "4"
      }
    }
  }
}