{
  "contractName": "HistoricalDataImpl",
  "sourceName": "contracts/v2/HistoricalDataImpl.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_parent",
          "type": "uint256"
        }
      ],
      "name": "VertexInserted",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "getEthBlockStamp",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLastProducer",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_number",
          "type": "uint256"
        }
      ],
      "name": "getSidechainBlock",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "producer",
              "type": "address"
            },
            {
              "internalType": "uint32",
              "name": "mainchainBlockNumber",
              "type": "uint32"
            },
            {
              "internalType": "bytes32",
              "name": "dataHash",
              "type": "bytes32"
            }
          ],
          "internalType": "struct IHistoricalData.BlockData",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getSidechainBlockCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "_sidechainBlockNumber",
          "type": "uint32"
        },
        {
          "internalType": "uint32",
          "name": "_depthDiff",
          "type": "uint32"
        }
      ],
      "name": "isValidBlock",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610473806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806301cc7c4d1461005c57806352e031e5146100fd57806367faa2b6146101185780637aad19ff14610137578063faab2c901461014c575b600080fd5b6100c761006a366004610376565b60408051606080820183526000808352602080840182905292840181905293845260038252928290208251938401835280546001600160a01b0381168552600160a01b900463ffffffff1691840191909152600101549082015290565b6040805182516001600160a01b0316815260208084015163ffffffff169082015291810151908201526060015b60405180910390f35b6002546040516001600160a01b0390911681526020016100f4565b600254600160a01b900463ffffffff165b6040519081526020016100f4565b600254600160c01b900463ffffffff16610129565b61015f61015a3660046103a8565b61017e565b6040805192151583526001600160a01b039091166020830152016100f4565b6040516301b2a42d60e01b815260006004820181905263ffffffff84166024830152908190819073__$e1e819b4790721726f0448d116c4c7b48f$__906301b2a42d90604401602060405180830381865af41580156101e1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020591906103db565b6040516334a4425b60e11b8152600060048201819052919250819073__$e1e819b4790721726f0448d116c4c7b48f$__9063694884b6906024016040805180830381865af415801561025b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061027f91906103f4565b6040516375e6dc3960e11b8152600060048201526024810183905260448101869052919350915063ffffffff88169073__$e1e819b4790721726f0448d116c4c7b48f$__9063ebcdb87290606401602060405180830381865af41580156102ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030e91906103db565b14610322576000809450945050505061036f565b63ffffffff86166103338483610418565b10610364575050505063ffffffff8316600090815260036020526040902054600191506001600160a01b031661036f565b600080945094505050505b9250929050565b60006020828403121561038857600080fd5b5035919050565b803563ffffffff811681146103a357600080fd5b919050565b600080604083850312156103bb57600080fd5b6103c48361038f565b91506103d26020840161038f565b90509250929050565b6000602082840312156103ed57600080fd5b5051919050565b6000806040838503121561040757600080fd5b505080516020909101519092909150565b60008282101561043857634e487b7160e01b600052601160045260246000fd5b50039056fea2646970667358221220e5eb6581183b37f7fa64fc78ebadea44ff0a6b8fae31476870f35fbac2a0e8a064736f6c634300080e0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c806301cc7c4d1461005c57806352e031e5146100fd57806367faa2b6146101185780637aad19ff14610137578063faab2c901461014c575b600080fd5b6100c761006a366004610376565b60408051606080820183526000808352602080840182905292840181905293845260038252928290208251938401835280546001600160a01b0381168552600160a01b900463ffffffff1691840191909152600101549082015290565b6040805182516001600160a01b0316815260208084015163ffffffff169082015291810151908201526060015b60405180910390f35b6002546040516001600160a01b0390911681526020016100f4565b600254600160a01b900463ffffffff165b6040519081526020016100f4565b600254600160c01b900463ffffffff16610129565b61015f61015a3660046103a8565b61017e565b6040805192151583526001600160a01b039091166020830152016100f4565b6040516301b2a42d60e01b815260006004820181905263ffffffff84166024830152908190819073__$e1e819b4790721726f0448d116c4c7b48f$__906301b2a42d90604401602060405180830381865af41580156101e1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020591906103db565b6040516334a4425b60e11b8152600060048201819052919250819073__$e1e819b4790721726f0448d116c4c7b48f$__9063694884b6906024016040805180830381865af415801561025b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061027f91906103f4565b6040516375e6dc3960e11b8152600060048201526024810183905260448101869052919350915063ffffffff88169073__$e1e819b4790721726f0448d116c4c7b48f$__9063ebcdb87290606401602060405180830381865af41580156102ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030e91906103db565b14610322576000809450945050505061036f565b63ffffffff86166103338483610418565b10610364575050505063ffffffff8316600090815260036020526040902054600191506001600160a01b031661036f565b600080945094505050505b9250929050565b60006020828403121561038857600080fd5b5035919050565b803563ffffffff811681146103a357600080fd5b919050565b600080604083850312156103bb57600080fd5b6103c48361038f565b91506103d26020840161038f565b90509250929050565b6000602082840312156103ed57600080fd5b5051919050565b6000806040838503121561040757600080fd5b505080516020909101519092909150565b60008282101561043857634e487b7160e01b600052601160045260246000fd5b50039056fea2646970667358221220e5eb6581183b37f7fa64fc78ebadea44ff0a6b8fae31476870f35fbac2a0e8a064736f6c634300080e0033",
  "linkReferences": {
    "@cartesi/tree/contracts/Tree.sol": {
      "Tree": [
        {
          "length": 20,
          "start": 455
        },
        {
          "length": 20,
          "start": 578
        },
        {
          "length": 20,
          "start": 720
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "@cartesi/tree/contracts/Tree.sol": {
      "Tree": [
        {
          "length": 20,
          "start": 423
        },
        {
          "length": 20,
          "start": 546
        },
        {
          "length": 20,
          "start": 688
        }
      ]
    }
  },
  "devdoc": {
    "kind": "dev",
    "methods": {
      "isValidBlock(uint32,uint32)": {
        "params": {
          "_depthDiff": "the minimal depth diff to validate sidechain block",
          "_sidechainBlockNumber": "the sidechain block number to validate"
        },
        "returns": {
          "_0": "bool is the sidechain block valid",
          "_1": "address the producer of the sidechain block"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "getEthBlockStamp()": {
        "notice": "Get mainchain block number of last sidechain block"
      },
      "getLastProducer()": {
        "notice": "Get the producer of last sidechain block"
      },
      "getSidechainBlock(uint256)": {
        "notice": "Get a V2 sidechain block"
      },
      "getSidechainBlockCount()": {
        "notice": "Get sidechain block count"
      },
      "isValidBlock(uint32,uint32)": {
        "notice": "Validate a V2 sidechain block"
      }
    },
    "version": 1
  },
  "evm": {
    "gasEstimates": {
      "creation": {
        "codeDepositCost": "227800",
        "executionCost": "269",
        "totalCost": "228069"
      },
      "external": {
        "getEthBlockStamp()": "2326",
        "getLastProducer()": "2301",
        "getSidechainBlock(uint256)": "4801",
        "getSidechainBlockCount()": "2359",
        "isValidBlock(uint32,uint32)": "infinite"
      },
      "internal": {
        "recordBlock(uint256,address,bytes32)": "infinite",
        "updateLatest(address,uint256)": "infinite"
      }
    },
    "methodIdentifiers": {
      "getEthBlockStamp()": "67faa2b6",
      "getLastProducer()": "52e031e5",
      "getSidechainBlock(uint256)": "01cc7c4d",
      "getSidechainBlockCount()": "7aad19ff",
      "isValidBlock(uint32,uint32)": "faab2c90"
    }
  }
}