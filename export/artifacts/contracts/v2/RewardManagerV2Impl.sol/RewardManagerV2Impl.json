{
  "contractName": "RewardManagerV2Impl",
  "sourceName": "contracts/v2/RewardManagerV2Impl.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ctsiAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_posAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_rewardValue",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_rewardDelay",
          "type": "uint32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint32",
          "name": "sidechainBlockNumber",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reward",
          "type": "uint256"
        }
      ],
      "name": "Rewarded",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getCurrentReward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "_sidechainBlockNumber",
          "type": "uint32"
        }
      ],
      "name": "isRewarded",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pos",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32[]",
          "name": "_sidechainBlockNumbers",
          "type": "uint32[]"
        }
      ],
      "name": "reward",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "_sidechainBlockNumber",
          "type": "uint32"
        },
        {
          "internalType": "address",
          "name": "_address",
          "type": "address"
        }
      ],
      "name": "reward",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x61010060405234801561001157600080fd5b50604051610d72380380610d7283398101604081905261003091610075565b6001600160a01b0393841660c0529190921660e05260809190915263ffffffff1660a0526100cd565b80516001600160a01b038116811461007057600080fd5b919050565b6000806000806080858703121561008b57600080fd5b61009485610059565b93506100a260208601610059565b925060408501519150606085015163ffffffff811681146100c257600080fd5b939692955090935050565b60805160a05160c05160e051610c4a6101286000396000818160c7015281816102bc015261052b0152600081816104ad015281816105f10152610630015260006103330152600081816106af01526106d60152610c4a6000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806309b290681461006757806312065fe01461008f57806385ac2fa9146100a55780638aec8542146100ba578063c56551b6146100c2578063e9ec1fc014610101575b600080fd5b61007a610075366004610a30565b610114565b60405190151581526020015b60405180910390f35b61009761019d565b604051908152602001610086565b6100b86100b3366004610a4b565b6101ac565b005b610097610516565b6100e97f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610086565b6100b861010f366004610ad8565b610520565b6040516303fbaf7360e01b815260006004820181905263ffffffff831660248301529073__$f57eb21c11c6dae369da3ca36f4f48eb77$__906303fbaf7390604401602060405180830381865af4158015610173573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101979190610b1f565b92915050565b60006101a7610618565b905090565b60005b818110156105115773__$f57eb21c11c6dae369da3ca36f4f48eb77$__6303fbaf7360008585858181106101e5576101e5610b3a565b90506020020160208101906101fa9190610a30565b6040516001600160e01b031960e085901b168152600481019290925263ffffffff166024820152604401602060405180830381865af4158015610241573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102659190610b1f565b156102b75760405162461bcd60e51b815260206004820152601b60248201527f54686520626c6f636b20686173206265656e207265776172646564000000000060448201526064015b60405180910390fd5b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663faab2c908686868181106102fb576102fb610b3a565b90506020020160208101906103109190610a30565b60405160e083901b6001600160e01b031916815263ffffffff91821660048201527f000000000000000000000000000000000000000000000000000000000000000090911660248201526044016040805180830381865afa158015610379573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061039d9190610b50565b91509150816103de5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c696420626c6f636b60981b60448201526064016102ae565b60006103e86106a3565b90506000811161043a5760405162461bcd60e51b815260206004820152601a60248201527f5265776172644d616e6167657220686173206e6f2066756e647300000000000060448201526064016102ae565b85858581811061044c5761044c610b3a565b90506020020160208101906104619190610a30565b63ffffffff167fc03e4bb56a67f4e04f08102325c70cf9e42f888a19d6d634bbee5f2a3a0b73d98260405161049891815260200190565b60405180910390a26104d46001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168383610700565b6105038686868181106104e9576104e9610b3a565b90506020020160208101906104fe9190610a30565b610752565b8360010193505050506101af565b505050565b60006101a76106a3565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105985760405162461bcd60e51b815260206004820152601e60248201527f4f6e6c792074686520706f7320636f6e74726163742063616e2063616c6c000060448201526064016102ae565b60006105a26106a3565b90508263ffffffff167fc03e4bb56a67f4e04f08102325c70cf9e42f888a19d6d634bbee5f2a3a0b73d9826040516105dc91815260200190565b60405180910390a26105116001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168383610700565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561067f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101a79190610b7c565b60006106ad610618565b7f0000000000000000000000000000000000000000000000000000000000000000116106f857507f000000000000000000000000000000000000000000000000000000000000000090565b6101a7610618565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b1790526105119084906107cb565b6040516306449da160e41b81526000600482015263ffffffff821660248201526001604482015273__$f57eb21c11c6dae369da3ca36f4f48eb77$__90636449da109060640160006040518083038186803b1580156107b057600080fd5b505af41580156107c4573d6000803e3d6000fd5b5050505050565b6000610820826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b031661089d9092919063ffffffff16565b805190915015610511578080602001905181019061083e9190610b1f565b6105115760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016102ae565b60606108ac84846000856108b6565b90505b9392505050565b6060824710156109175760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084016102ae565b843b6109655760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016102ae565b600080866001600160a01b031685876040516109819190610bc5565b60006040518083038185875af1925050503d80600081146109be576040519150601f19603f3d011682016040523d82523d6000602084013e6109c3565b606091505b50915091506109d38282866109de565b979650505050505050565b606083156109ed5750816108af565b8251156109fd5782518084602001fd5b8160405162461bcd60e51b81526004016102ae9190610be1565b803563ffffffff81168114610a2b57600080fd5b919050565b600060208284031215610a4257600080fd5b6108af82610a17565b60008060208385031215610a5e57600080fd5b823567ffffffffffffffff80821115610a7657600080fd5b818501915085601f830112610a8a57600080fd5b813581811115610a9957600080fd5b8660208260051b8501011115610aae57600080fd5b60209290920196919550909350505050565b6001600160a01b0381168114610ad557600080fd5b50565b60008060408385031215610aeb57600080fd5b610af483610a17565b91506020830135610b0481610ac0565b809150509250929050565b80518015158114610a2b57600080fd5b600060208284031215610b3157600080fd5b6108af82610b0f565b634e487b7160e01b600052603260045260246000fd5b60008060408385031215610b6357600080fd5b610b6c83610b0f565b91506020830151610b0481610ac0565b600060208284031215610b8e57600080fd5b5051919050565b60005b83811015610bb0578181015183820152602001610b98565b83811115610bbf576000848401525b50505050565b60008251610bd7818460208701610b95565b9190910192915050565b6020815260008251806020840152610c00816040850160208701610b95565b601f01601f1916919091016040019291505056fea264697066735822122008bd37ce108735af40a8188e047e280987277c3e11d4f365a1ba059288e55ecd64736f6c634300080e0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c806309b290681461006757806312065fe01461008f57806385ac2fa9146100a55780638aec8542146100ba578063c56551b6146100c2578063e9ec1fc014610101575b600080fd5b61007a610075366004610a30565b610114565b60405190151581526020015b60405180910390f35b61009761019d565b604051908152602001610086565b6100b86100b3366004610a4b565b6101ac565b005b610097610516565b6100e97f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610086565b6100b861010f366004610ad8565b610520565b6040516303fbaf7360e01b815260006004820181905263ffffffff831660248301529073__$f57eb21c11c6dae369da3ca36f4f48eb77$__906303fbaf7390604401602060405180830381865af4158015610173573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101979190610b1f565b92915050565b60006101a7610618565b905090565b60005b818110156105115773__$f57eb21c11c6dae369da3ca36f4f48eb77$__6303fbaf7360008585858181106101e5576101e5610b3a565b90506020020160208101906101fa9190610a30565b6040516001600160e01b031960e085901b168152600481019290925263ffffffff166024820152604401602060405180830381865af4158015610241573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102659190610b1f565b156102b75760405162461bcd60e51b815260206004820152601b60248201527f54686520626c6f636b20686173206265656e207265776172646564000000000060448201526064015b60405180910390fd5b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663faab2c908686868181106102fb576102fb610b3a565b90506020020160208101906103109190610a30565b60405160e083901b6001600160e01b031916815263ffffffff91821660048201527f000000000000000000000000000000000000000000000000000000000000000090911660248201526044016040805180830381865afa158015610379573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061039d9190610b50565b91509150816103de5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c696420626c6f636b60981b60448201526064016102ae565b60006103e86106a3565b90506000811161043a5760405162461bcd60e51b815260206004820152601a60248201527f5265776172644d616e6167657220686173206e6f2066756e647300000000000060448201526064016102ae565b85858581811061044c5761044c610b3a565b90506020020160208101906104619190610a30565b63ffffffff167fc03e4bb56a67f4e04f08102325c70cf9e42f888a19d6d634bbee5f2a3a0b73d98260405161049891815260200190565b60405180910390a26104d46001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168383610700565b6105038686868181106104e9576104e9610b3a565b90506020020160208101906104fe9190610a30565b610752565b8360010193505050506101af565b505050565b60006101a76106a3565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105985760405162461bcd60e51b815260206004820152601e60248201527f4f6e6c792074686520706f7320636f6e74726163742063616e2063616c6c000060448201526064016102ae565b60006105a26106a3565b90508263ffffffff167fc03e4bb56a67f4e04f08102325c70cf9e42f888a19d6d634bbee5f2a3a0b73d9826040516105dc91815260200190565b60405180910390a26105116001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168383610700565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561067f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101a79190610b7c565b60006106ad610618565b7f0000000000000000000000000000000000000000000000000000000000000000116106f857507f000000000000000000000000000000000000000000000000000000000000000090565b6101a7610618565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b1790526105119084906107cb565b6040516306449da160e41b81526000600482015263ffffffff821660248201526001604482015273__$f57eb21c11c6dae369da3ca36f4f48eb77$__90636449da109060640160006040518083038186803b1580156107b057600080fd5b505af41580156107c4573d6000803e3d6000fd5b5050505050565b6000610820826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b031661089d9092919063ffffffff16565b805190915015610511578080602001905181019061083e9190610b1f565b6105115760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016102ae565b60606108ac84846000856108b6565b90505b9392505050565b6060824710156109175760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084016102ae565b843b6109655760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016102ae565b600080866001600160a01b031685876040516109819190610bc5565b60006040518083038185875af1925050503d80600081146109be576040519150601f19603f3d011682016040523d82523d6000602084013e6109c3565b606091505b50915091506109d38282866109de565b979650505050505050565b606083156109ed5750816108af565b8251156109fd5782518084602001fd5b8160405162461bcd60e51b81526004016102ae9190610be1565b803563ffffffff81168114610a2b57600080fd5b919050565b600060208284031215610a4257600080fd5b6108af82610a17565b60008060208385031215610a5e57600080fd5b823567ffffffffffffffff80821115610a7657600080fd5b818501915085601f830112610a8a57600080fd5b813581811115610a9957600080fd5b8660208260051b8501011115610aae57600080fd5b60209290920196919550909350505050565b6001600160a01b0381168114610ad557600080fd5b50565b60008060408385031215610aeb57600080fd5b610af483610a17565b91506020830135610b0481610ac0565b809150509250929050565b80518015158114610a2b57600080fd5b600060208284031215610b3157600080fd5b6108af82610b0f565b634e487b7160e01b600052603260045260246000fd5b60008060408385031215610b6357600080fd5b610b6c83610b0f565b91506020830151610b0481610ac0565b600060208284031215610b8e57600080fd5b5051919050565b60005b83811015610bb0578181015183820152602001610b98565b83811115610bbf576000848401525b50505050565b60008251610bd7818460208701610b95565b9190910192915050565b6020815260008251806020840152610c00816040850160208701610b95565b601f01601f1916919091016040019291505056fea264697066735822122008bd37ce108735af40a8188e047e280987277c3e11d4f365a1ba059288e55ecd64736f6c634300080e0033",
  "linkReferences": {
    "@cartesi/util/contracts/Bitmask.sol": {
      "Bitmask": [
        {
          "length": 20,
          "start": 609
        },
        {
          "length": 20,
          "start": 737
        },
        {
          "length": 20,
          "start": 2211
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "@cartesi/util/contracts/Bitmask.sol": {
      "Bitmask": [
        {
          "length": 20,
          "start": 313
        },
        {
          "length": 20,
          "start": 441
        },
        {
          "length": 20,
          "start": 1915
        }
      ]
    }
  },
  "devdoc": {
    "kind": "dev",
    "methods": {
      "constructor": {
        "params": {
          "_ctsiAddress": "address of token instance being used",
          "_posAddress": "address of the sidechain",
          "_rewardDelay": "number of blocks confirmation before a reward can be claimed",
          "_rewardValue": "reward that this contract pays"
        }
      },
      "reward(uint32,address)": {
        "params": {
          "_address": "address to be rewarded",
          "_sidechainBlockNumber": "sidechain block number"
        }
      },
      "reward(uint32[])": {
        "params": {
          "_sidechainBlockNumbers": "array of sidechain block numbers"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "constructor": {
        "notice": "Creates contract"
      },
      "getBalance()": {
        "notice": "Get RewardManager's balance"
      },
      "getCurrentReward()": {
        "notice": "Get current reward amount"
      },
      "isRewarded(uint32)": {
        "notice": "Check if a sidechain block reward is claimed"
      },
      "reward(uint32,address)": {
        "notice": "Rewards sidechain block for V1 chains"
      },
      "reward(uint32[])": {
        "notice": "Rewards sidechain blocks for V2 chains"
      }
    },
    "version": 1
  },
  "evm": {
    "gasEstimates": {
      "creation": {
        "codeDepositCost": "629200",
        "executionCost": "infinite",
        "totalCost": "infinite"
      },
      "external": {
        "getBalance()": "infinite",
        "getCurrentReward()": "infinite",
        "isRewarded(uint32)": "infinite",
        "pos()": "infinite",
        "reward(uint32,address)": "infinite",
        "reward(uint32[])": "infinite"
      },
      "internal": {
        "balance()": "infinite",
        "currentReward()": "infinite",
        "setRewarded(uint32)": "infinite"
      }
    },
    "methodIdentifiers": {
      "getBalance()": "12065fe0",
      "getCurrentReward()": "8aec8542",
      "isRewarded(uint32)": "09b29068",
      "pos()": "c56551b6",
      "reward(uint32,address)": "e9ec1fc0",
      "reward(uint32[])": "85ac2fa9"
    }
  }
}